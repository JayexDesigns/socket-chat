{"version":3,"sources":["components/Login.js","components/ChatHeader.js","components/Message.js","components/ChatArea.js","components/ChatSend.js","components/Chat.js","App.js","index.js"],"names":["useStyles","makeStyles","theme","login","position","top","left","transform","display","flexDirection","justifyContent","elements","margin","Login","props","classes","className","Typography","variant","TextField","spellCheck","label","onChange","changeUsername","onKeyUp","e","keyCode","sendLogin","Button","color","onClick","appbar","alignItems","backgroundColor","palette","primary","main","height","toolbar","mixins","text","whiteSpace","maxWidth","overflow","textOverflow","user","secondary","light","ChatHeader","AppBar","Toolbar","username","message_oth","padding","boxShadow","borderRadius","message_you","alignSelf","white","user_oth","marginBottom","user_you","dark","wordBreak","overflowWrap","content_oth","marginLeft","fontSize","content_you","marginRight","textAlign","ChatArea","content","console","log","chat","bottom","width","breakpoints","down","up","messagesEnd","useEffect","scrollIntoView","behavior","messageHist","map","m","Message","id","style","float","clear","ref","el","sendSection","borderTopWidth","borderTopStyle","borderTopColor","send","sendButton","ChatSend","useState","setContent","message","fullWidth","target","value","changeMessage","sendMessage","IconButton","Chat","setMessage","setMessageHist","outdated","setOutdated","wsocket","on","res","off","emit","socket","io","connect","window","location","hostname","transports","createMuiTheme","App","setUsername","logged","setLogged","ThemeProvider","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.88f61286.chunk.js","sourcesContent":["import React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport { makeStyles } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles((theme) => {\r\n    return {\r\n        login: {\r\n            position: \"absolute\",\r\n            top: \"50%\",\r\n            left: \"50%\",\r\n            transform: \"translate(-50%, -50%)\",\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            justifyContent: \"center\"\r\n        },\r\n        elements: {\r\n            margin: \"1vh 0 !important\"\r\n        }\r\n    };\r\n});\r\n\r\nfunction Login(props) {\r\n\r\n    const classes = useStyles();\r\n\r\n    const handleKey = (e) => {\r\n        if (e.keyCode === 13) {\r\n            props.sendLogin();\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className={classes.login}>\r\n                <Typography className={classes.elements} variant=\"h3\">Login:</Typography>\r\n                <TextField className={classes.elements} spellCheck=\"false\" label=\"Username\" onChange={props.changeUsername} onKeyUp={handleKey}/>\r\n                <Button className={classes.elements} color=\"secondary\" variant=\"contained\" onClick={props.sendLogin}>Login</Button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login;\r\n","import React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport { makeStyles } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles((theme) => {\r\n    return {\r\n        appbar: {\r\n            alignItems: \"flex-end\",\r\n            justifyContent: \"center\",\r\n            backgroundColor: theme.palette.primary.main,\r\n            height: \"8vh\"\r\n        },\r\n        toolbar: theme.mixins.toolbar,\r\n        text: {\r\n            display: \"inline-block\",\r\n            whiteSpace: \"nowrap\",\r\n            maxWidth: \"18rem\",\r\n            overflow: \"hidden\",\r\n            textOverflow: \"ellipsis\"\r\n        },\r\n        user: {\r\n            color: theme.palette.secondary.light\r\n        }\r\n    };\r\n});\r\n\r\nfunction ChatHeader(props) {\r\n\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <div>\r\n            <AppBar className={classes.appbar}>\r\n                <Toolbar>\r\n                    <Typography className={classes.text} variant=\"h5\">Logged in as <b className={classes.user}>{props.username}</b></Typography>\r\n                </Toolbar>\r\n            </AppBar>\r\n            <div className={classes.toolbar}></div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ChatHeader;\r\n","import React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles((theme) => {\r\n    return {\r\n        message_oth: {\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            alignItems: \"start\",\r\n            margin: \"1rem 0 1rem 1rem\",\r\n            padding: \"0.75rem 1.75rem 0.75rem 1rem\",\r\n            backgroundColor: theme.palette.secondary.main,\r\n            boxShadow: () => `0 0 1rem ${theme.palette.secondary.light}`,\r\n            borderRadius: \"0 1.5rem 1rem 1.5rem\",\r\n            maxWidth: \"50vw\"\r\n        },\r\n        message_you: {\r\n            alignSelf: \"flex-end\",\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            alignItems: \"flex-end\",\r\n            margin: \"1rem 1rem 1rem 0\",\r\n            padding: \"0.75rem 1rem 0.75rem 1.75rem\",\r\n            backgroundColor: theme.palette.white.light,\r\n            boxShadow: () => `0 0 1rem ${theme.palette.white.main}`,\r\n            borderRadius: \"1.5rem 0 1.5rem 1rem\",\r\n            maxWidth: \"50vw\"\r\n        },\r\n        user_oth: {\r\n            marginBottom: \"0.2rem\",\r\n            color: theme.palette.white.light,\r\n            display: \"inline-block\",\r\n            maxWidth: \"6rem\",\r\n            overflow: \"hidden\",\r\n            textOverflow: \"ellipsis\"\r\n        },\r\n        user_you: {\r\n            marginBottom: \"0.2rem\",\r\n            color: theme.palette.white.dark,\r\n            display: \"inline-block\",\r\n            wordBreak: \"break-word\",\r\n            overflowWrap: \"break-word\"\r\n        },\r\n        content_oth: {\r\n            marginLeft: \"1rem\",\r\n            fontSize: \"1.2rem\",\r\n            color: theme.palette.white.light,\r\n            display: \"inline-block\",\r\n            wordBreak: \"break-word\",\r\n            overflowWrap: \"break-word\"\r\n        },\r\n        content_you: {\r\n            marginRight: \"1rem\",\r\n            fontSize: \"1.2rem\",\r\n            color: theme.palette.white.dark,\r\n            textAlign: \"right\",\r\n            display: \"inline-block\",\r\n            wordBreak: \"break-word\",\r\n            overflowWrap: \"break-word\"\r\n        }\r\n    };\r\n});\r\n\r\nfunction ChatArea(props) {\r\n\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <div className={(props.username === \"Me\") ? classes.message_you : classes.message_oth}>\r\n            <Typography className={(props.username === \"Me\") ? classes.user_you : classes.user_oth} variant=\"caption\">{props.username + \":\"}</Typography>\r\n            <Typography className={(props.username === \"Me\") ? classes.content_you : classes.content_oth}>{props.content}</Typography>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ChatArea;","import React, { useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core';\r\n\r\nimport Message from './Message';\r\n\r\nconst useStyles = makeStyles((theme) => {\r\n    console.log(theme.mixins.toolbar);\r\n    return {\r\n        chat: {\r\n            position: \"absolute\",\r\n            bottom: \"12vh\",\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            alignItems: \"start\",\r\n            height: `calc(100% - 20vh)`,\r\n            width: \"100%\",\r\n            [theme.breakpoints.down('md')]: {\r\n                padding: 0,\r\n                margin: 0\r\n            },\r\n            [theme.breakpoints.up('md')]: {\r\n                width: \"70%\",\r\n                padding: \"0 15% 0 15%\",\r\n                margin: \"0 auto 0 auto\"\r\n            },\r\n            backgroundColor: theme.palette.white.light,\r\n            overflow: \"auto\"\r\n        }\r\n    };\r\n});\r\n\r\nfunction ChatArea(props) {\r\n\r\n    const classes = useStyles();\r\n\r\n    var messagesEnd;\r\n\r\n    useEffect(() => {\r\n        messagesEnd.scrollIntoView({ behavior: \"smooth\" });\r\n    });\r\n\r\n    return (\r\n        <div className={classes.chat}>\r\n            {props.messageHist.map(m => {\r\n                return <Message key={m.id}\r\n                    username={(props.username === m.username) ? \"Me\" : m.username}\r\n                    content={m.content}\r\n                />;\r\n            })}\r\n            <div style={{ float:\"left\", clear: \"both\" }} ref={(el) => { messagesEnd = el; }}>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ChatArea;\r\n","import React, { useState, useEffect } from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport SendIcon from '@material-ui/icons/Send';\r\nimport { makeStyles } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles((theme) => {\r\n    return {\r\n        sendSection: {\r\n            position: \"absolute\",\r\n            bottom: 0,\r\n            display: \"flex\",\r\n            flexDirection: \"row\",\r\n            justifyContent: \"center\",\r\n            alignItems: \"center\",\r\n            height: \"12vh\",\r\n            width: \"100%\",\r\n            backgroundColor: theme.palette.white.light,\r\n            borderTopWidth: \"0.2rem\",\r\n            borderTopStyle: \"solid\",\r\n            borderTopColor: theme.palette.primary.main\r\n        },\r\n        send: {\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            [theme.breakpoints.down('md')]: {\r\n                width: \"85%\"\r\n            },\r\n            [theme.breakpoints.up('md')]: {\r\n                width: \"50%\",\r\n                maxWidth: \"600px\"\r\n            }\r\n        },\r\n        sendButton: {\r\n            backgroundColor: theme.palette.secondary.main,\r\n            color: theme.palette.white.light,\r\n            marginLeft: \"1rem\",\r\n            \"&:hover\": {\r\n                backgroundColor: theme.palette.secondary.light\r\n            }\r\n        }\r\n    };\r\n});\r\n\r\nfunction ChatSend(props) {\r\n\r\n    const classes = useStyles();\r\n\r\n    const [content, setContent] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        if (props.message === \"\") {\r\n            setContent(\"\");\r\n        }\r\n    }, [props.message])\r\n\r\n    const handleChange = (e) => {\r\n        setContent(e.target.value);\r\n        props.changeMessage(e);\r\n    }\r\n\r\n    const handleKey = (e) => {\r\n        if (e.keyCode === 13) {\r\n            props.sendMessage();\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={classes.sendSection}>\r\n            <div className={classes.send}>\r\n                <TextField spellCheck=\"false\" fullWidth onChange={handleChange} onKeyUp={handleKey} value={content} color=\"secondary\"/>\r\n                <IconButton className={classes.sendButton} onClick={props.sendMessage}><SendIcon/></IconButton>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ChatSend;\r\n","import React, { useState, useEffect } from 'react';\r\n\r\nimport ChatHeader from './ChatHeader';\r\nimport ChatArea from './ChatArea';\r\nimport ChatSend from './ChatSend';\r\n\r\nfunction Chat(props) {\r\n\r\n    const [message, setMessage] = useState(\"\");\r\n    const [messageHist, setMessageHist] = useState([]);\r\n    const [outdated, setOutdated] = useState(true);\r\n\r\n    useEffect(() => {\r\n        props.wsocket.on(\"cl:message\", (res) => {\r\n            setMessageHist([...messageHist, res]);\r\n        });\r\n        props.wsocket.on(\"cl:hist\", (res) => {\r\n            setMessageHist(res);\r\n        });\r\n        return () => {props.wsocket.off()};\r\n    }, [messageHist, props.wsocket]);\r\n\r\n    useEffect(() => {\r\n        if (outdated === true) {\r\n            props.wsocket.emit(\"sv:hist\", props.username);\r\n            setOutdated(false);\r\n        }\r\n    }, [outdated, props.wsocket, props.username]);\r\n\r\n    const changeMessage = (e) => {\r\n        setMessage(e.target.value);\r\n    }\r\n\r\n    const sendMessage = () => {\r\n        props.sendMessage(message);\r\n        setMessage(\"\");\r\n    }\r\n\r\n    return (\r\n        <div className=\"Chat\">\r\n            <ChatHeader username={props.username}/>\r\n            <ChatArea messageHist={messageHist} username={props.username}/>\r\n            <ChatSend message={message} changeMessage={changeMessage} sendMessage={sendMessage}/>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Chat;\r\n","import React, { useState, useEffect} from 'react';\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core';\nimport io from 'socket.io-client';\n\nimport Login from './components/Login';\nimport Chat from './components/Chat';\n\n\n\nconst socket = io.connect(window.location.hostname, {transports: ['websocket']});\n\n\n\nconst theme = createMuiTheme({\n    palette: {\n        primary: {\n            light: \"#dc527c\",\n            main: \"#ff0066\"\n        },\n        secondary: {\n            light: \"#fed883\",\n            main: \"#febe40\"\n        },\n        white: {\n            light: \"#ffffff\",\n            main: \"#d0d0d0\",\n            dark: \"#1a1a1a\"\n        }\n    }\n});\n\n\n\nfunction App() {\n\n    const [username, setUsername] = useState(\"\");\n    const [logged, setLogged] = useState(false);\n\n    useEffect(() => {\n        socket.on(\"cl:login\", (res) => {\n            if (res === true) {\n                setLogged(true);\n            }\n            else if (res === false) {\n                console.log(\"Login failed\");\n                setLogged(false);\n            }\n        });\n    });\n\n    const changeUsername = (e) => {\n        setUsername(e.target.value);\n    }\n\n    const sendLogin = () => {\n        socket.emit(\"sv:login\", {username: username});\n    }\n\n    const sendMessage = (message) => {\n        if (message !== \"\") {\n            socket.emit(\"sv:message\", {username: username, content: message});\n        }\n    }\n\n    return (\n        <ThemeProvider theme={theme}>\n            <div className=\"App\">\n                {(logged) ? <Chat wsocket={socket} sendMessage={sendMessage} username={username}></Chat> : <Login changeUsername={changeUsername} sendLogin={sendLogin}></Login>}\n            </div>\n        </ThemeProvider>\n    )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}